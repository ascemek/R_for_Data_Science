count(chicago2, pm25 > 35 & ozone > 18)
#sum(TRUE == (pm25 > 35 & ozone > 18))
#if pm25 is NA do we include them on our dataset
#Confused about '&&' and '&'
sum(is.na(chicago2$pm25))
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
count(chicago2, pm25 > 35 & ozone > 18)
#sum(TRUE == (pm25 > 35 & ozone > 18))
sum(isTRUE(chicago2$pm25 > 35 & chicago2$ozone > 18))
#if pm25 is NA do we include them on our dataset
#Confused about '&&' and '&'
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
count(chicago2, pm25 > 35 & ozone > 18)
#sum(TRUE == (pm25 > 35 & ozone > 18))
sum(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
#if pm25 is NA do we include them on our dataset
#Confused about '&&' and '&'
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
count(chicago2, pm25 > 35 & ozone > 18)
#sum(TRUE == (pm25 > 35 & ozone > 18))
sum((chicago2$pm25 > 35 && chicago2$ozone > 18))
#if pm25 is NA do we include them on our dataset
#Confused about '&&' and '&'
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
count(chicago2, pm25 > 35 & ozone > 18)
sum((chicago2$pm25 > 35 & chicago2$ozone > 18))
#sum(TRUE == (pm25 > 35 & ozone > 18))
#if pm25 is NA do we include them on our dataset
#Confused about '&&' and '&'
tempC <- ((temp - 32) * 5/9)
#tempC <- ((temp - 32) * 5/9)
chicagoC <- chicago2 %>%
mutate(tempC = ((temp - 32) * 5/9))
head(chicagoC, 4)
#1
pollutionVars <- chicago %>%
dplyr::select(pm25tmean2,pm10tmean2,o3tmean2,no2tmean2)
head(pollutionVars,3)
#2
pollutionVars2 <- chicago %>%
dplyr::select(-city,-tmpd,-dptp,-date)
head(pollutionVars2,3)
tempC <- ((chicago2$temp - 32) * 5/9)
chicagoC <- chicago2 %>%
select(temp, tempC)
tempC <- ((chicago2$temp - 32) * 5/9)
chicagoC <- chicago2 %>%
select(temp, tempC) %>%
#mutate(tempC = ((temp - 32) * 5/9))
head(chicagoC, 4)
#tempC <- ((chicago2$temp - 32) * 5/9)
chicagoC <- chicago2 %>%
select(temp, tempC) %>%
#mutate(tempC = ((temp - 32) * 5/9))
head(chicagoC, 4)
#tempC <- ((chicago2$temp - 32) * 5/9)
chicagoC <- chicago2 %>%
mutate(tempC = ((temp - 32) * 5/9)) %>%
select(temp, tempC)
head(chicagoC, 4)
summarise(chicago2)
summary(chicago2)
install.packages(lubridate)
install.packages("lubridate")
install.packages("lubridate")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
### may need to install this in console first!
library(lubridate)
# import data
chicago <- readRDS("chicago.rds")
# Alternate:
# chicago <- read_csv("chicago.csv", col_types = list(col_character(), col_double(), col_double(), col_date(format = ""), col_double(), col_double(), col_double(), col_double()))
# backup: download the data from  http://www.biostat.jhsph.edu/~rpeng/leanpub/rprog/chicago_data.zip
#install.packages("lubridate")
library(lubridate)
View(pollutionVars2)
View(chicago2)
#install.packages("lubridate")
#library(lubridate)
year(date)
#install.packages("lubridate")
#library(lubridate)
year(chicago2$date)
#install.packages("lubridate")
#library(lubridate)
#yearVar <- year(chicago2$date)
monthVar <- month(chicago2$date)
#install.packages("lubridate")
#library(lubridate)
#yearVar <- year(chicago2$date)
monthVar <- month(chicago2$date)
monthVar
chicago2 %>%
select(pm25, ozone, date) %>%
top_n(n = 5, wt = pm25) %>%
group_by(pm25) %>%
arrange(desc(pm25)) %>%
arrange(desc(ozone))
#FEEDBACK?
chicago2 %>%
select(pm25, ozone, date) %>%
top_n(n = 5, wt = pm25) %>%
group_by(pm25) %>%
arrange(desc(pm25 & ozone)) %>%
#FEEDBACK?
chicago2 %>%
select(pm25, ozone, date) %>%
top_n(n = 5, wt = pm25) %>%
group_by(pm25) %>%
arrange(desc(pm25)) %>%
#FEEDBACK?
chicago2 %>%
select(pm25, ozone, date) %>%
top_n(n = 5, wt = pm25) %>%
group_by(pm25) %>%
arrange(desc(pm25))
#FEEDBACK?
chicago2 %>%
select(pm25, ozone, date) %>%
top_n(n = 5, wt = pm25) %>%
group_by(pm25 && ozone) %>%
arrange(desc(pm25))
#FEEDBACK?
chicago2 %>%
select(pm25, ozone, date) %>%
top_n(n = 5, wt = pm25) %>%
group_by(pm25 & ozone) %>%
arrange(desc(pm25))
#FEEDBACK?
chicago2 %>%
select(pm25, ozone, date) %>%
top_n(n = 5, wt = pm25) %>%
group_by(pm25) %>%
arrange(desc(pm25))
#FEEDBACK?
chicago2 %>%
select(pm25, ozone, date) %>%
top_n(n = 5, wt = pm25) %>%
group_by(pm25) %>%
arrange(desc(pm25)) %>%
arrange(desc(ozone))
#FEEDBACK?
chicago2 %>%
select(pm25, ozone, date) %>%
top_n(n = 5, wt = pm25) %>%
group_by(pm25) %>%
arrange(desc(pm25), desc(ozone))
#FEEDBACK?
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
#count(chicago2, pm25 > 35 & ozone > 18)
sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
#sum(TRUE == (pm25 > 35 & ozone > 18))
#if pm25 is NA do we include them on our dataset
#Confused about '&&' and '&'
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
count(chicago2, pm25 > 35 & ozone > 18)
sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
#sum(TRUE == (pm25 > 35 & ozone > 18))
#if pm25 is NA do we include them on our dataset
#Confused about '&&' and '&'
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
count(isTRUE(chicago2, pm25 > 35 & ozone > 18))
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
count(isTRUE(pm25 > 35 & ozone > 18))
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
count(isTRUE(chicago2$pm25 > 35 & chicago2$ozone > 18))
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
sum(isTRUE(chicago2$pm25 > 35 & chicago2$ozone > 18))
#sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
#sum(TRUE == (pm25 > 35 & ozone > 18))
#if pm25 is NA do we include them on our dataset
#Confused about '&&' and '&'
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
sum(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
#sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
#sum(TRUE == (pm25 > 35 & ozone > 18))
#if pm25 is NA do we include them on our dataset
#Confused about '&&' and '&'
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
sum(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
nrow(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
#sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
#sum(TRUE == (pm25 > 35 & ozone > 18))
#if pm25 is NA do we include them on our dataset
#Confused about '&&' and '&'
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
sum(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
nrow(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
#sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
#sum(TRUE == (pm25 > 35 & ozone > 18))
sum(isTRUE(chicago2$pm25 > 35))
#if pm25 is NA do we include them on our dataset
#Confused about '&&' and '&'
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
sum(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
nrow(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
#sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
#sum(TRUE == (pm25 > 35 & ozone > 18))
sum((chicago2$pm25 > 35))
#if pm25 is NA do we include them on our dataset
#Confused about '&&' and '&'
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
sum(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
nrow(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
#sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
#sum(TRUE == (pm25 > 35 & ozone > 18))
nrow((chicago2$pm25 > 35))
#if pm25 is NA do we include them on our dataset
#Confused about '&&' and '&'
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
sum(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
nrow(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
#sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
sum(TRUE == (pm25 > 35 & ozone > 18))
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
sum(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
nrow(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
#sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
sum(TRUE == (pm25 > 35 & ozone > 18))
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
sum(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
nrow(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
#sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
sum(TRUE == (pm25 > 35 & ozone > 18))
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
sum(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
nrow(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
#sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
sum(TRUE == (pm25 > 35 & ozone > 18))
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
sum(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
nrow(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
#sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
#sum(TRUE == (pm25 > 35 & ozone > 18))
count(isTRUE(pm25 > 35 & ozone > 18))
#install.packages("lubridate")
#library(lubridate)
yearVar <- year(chicago2$date)
monthVar <- month(chicago2$date)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
### may need to install this in console first!
library(lubridate)
# import data
chicago <- readRDS("chicago.rds")
# Alternate:
# chicago <- read_csv("chicago.csv", col_types = list(col_character(), col_double(), col_double(), col_date(format = ""), col_double(), col_double(), col_double(), col_double()))
# backup: download the data from  http://www.biostat.jhsph.edu/~rpeng/leanpub/rprog/chicago_data.zip
#install.packages("lubridate")
#library(lubridate)
yearMonthVar <- (year(chicago2$date),month(chicago2$date))
#install.packages("lubridate")
#library(lubridate)
yearMonthVar <- year(date)
temp_cat <-
case_when(
temp > 90 ~ "hot"
temp > 70 & temp <= 90 ~ "warm"
View(chicago2)
View(chicago2)
temp_cat <-
case_when(
chicago2$temp > 90 ~ "hot"
chicago2$temp > 70 & chicago2$temp <= 90 ~ "warm"
temp_cat <-
case_when(
temp > 90 ~ "hot",
temp > 70 & temp <= 90 ~ "warm",
temp > 50 & temp <= 70 ~ "cool",
temp > 32 & temp <= 50 ~ "cold",
temp <= 32 ~ "freezing"
)
temp_cat <-
case_when(
temp > 90 ~ "hot",
,temp > 70 & temp <= 90 ~ "warm"
,temp > 50 & temp <= 70 ~ "cool"
,temp > 32 & temp <= 50 ~ "cold"
temp <= 32 ~ "freezing"
chicago2 %>%
mutate(temp_cat = case_when(
temp > 90 ~ "hot",
temp > 70 & temp <= 90 ~ "warm"
temp > 50 & temp <= 70 ~ "cool"
chicago2 %>%
mutate(temp_cat = case_when(
temp > 90 ~ "hot",
temp > 70 & temp <= 90 ~ "warm",
temp > 50 & temp <= 70 ~ "cool",
temp > 32 & temp <= 50 ~ "cold",
temp <= 32 ~ "freezing"))
chicago2 %>%
mutate(temp_cat = case_when(
temp > 90 ~ "hot",
temp > 70 & temp <= 90 ~ "warm",
temp > 50 & temp <= 70 ~ "cool",
temp > 32 & temp <= 50 ~ "cold",
temp <= 32 ~ "freezing"))
chicago2 %>%
mutate(temp_cat = case_when(
temp > 90 ~ "hot",
temp > 70 & temp <= 90 ~ "warm",
temp > 50 & temp <= 70 ~ "cool",
temp > 32 & temp <= 50 ~ "cold",
temp <= 32 ~ "freezing"))
head(chicago2,5)
ggplot(chicago2, aes(x=ozone, y= pm25, color=tempC))+
facet_wrap(~yearMonthVar)
ggplot(chicago2, aes(x=ozone, y= pm25, color=tempC))+
geom_point + facet_wrap(~yearMonthVar)
ggplot(chicago2, aes(x=ozone, y= pm25, color=tempC))+
geom_point() + facet_wrap(~yearMonthVar)
ggplot(chicago2, aes(x=ozone, y= pm25, color=tempC))+
geom_point() +
#facet_wrap(~yearMonthVar)
ggplot(chicago2, aes(x=ozone, y= pm25, color=tempC))+
geom_point()
#+ facet_wrap(~yearMonthVar)
ggplot(chicago2, aes(x=ozone, y= pm25, color=tempC))+
geom_point()
+ facet_wrap(~year)
ggplot(chicago2, aes(x=ozone, y= pm25, color=tempC))+
geom_point() + facet_wrap(~year)
#install.packages("lubridate")
#library(lubridate)
yearVar <- year(chicago2$date)
#yearMonthVar <- (year(chicago2$date),month(chicago2$date))
#install.packages("lubridate")
#library(lubridate)
yearVar <- year(chicago2$date)
#yearMonthVar <- (year(chicago2$date),month(chicago2$date))
#install.packages("lubridate")
#library(lubridate)
yearVar <- year(chicago2$date)
yearVar
#yearMonthVar <- (year(chicago2$date),month(chicago2$date))
ggplot(chicago2, aes(x=ozone, y= pm25, color=tempC))+
geom_point() + facet_wrap(~ yearVar)
chicago %>%
group_by(yearVar) %>%
ggplot(chicago2, aes(x=ozone, y= pm25, color=tempC))+
geom_point() + facet_wrap(~ yearVar)
chicago2 %>%
mutate(temp_cat = case_when(
temp > 90 ~ "hot",
temp > 70 & temp <= 90 ~ "warm",
temp > 50 & temp <= 70 ~ "cool",
temp > 32 & temp <= 50 ~ "cold",
temp <= 32 ~ "freezing"))
chicago3 <- chicago2 %>%
mutate(temp_cat = case_when(
temp > 90 ~ "hot",
temp > 70 & temp <= 90 ~ "warm",
temp > 50 & temp <= 70 ~ "cool",
temp > 32 & temp <= 50 ~ "cold",
temp <= 32 ~ "freezing"))
question1D<- chicago2 %>%
filter(pm25 > 35 & ozone > 18)
#sum(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
nrow(isTRUE(question1D$pm25 > 35 && question1D$ozone > 18))
#sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
#sum(TRUE == (pm25 > 35 & ozone > 18))
#count(isTRUE(pm25 > 35 & ozone > 18))
#nrow((chicago2$pm25 > 35))
#if pm25 is NA do we include them on our dataset
#Confused about '&&' and '&'
question1D<- chicago2 %>%
filter(pm25 > 35 & ozone > 18)
#sum(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
nrow((question1D$pm25 > 35 && question1D$ozone > 18))
#sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
#sum(TRUE == (pm25 > 35 & ozone > 18))
#count(isTRUE(pm25 > 35 & ozone > 18))
#nrow((chicago2$pm25 > 35))
#if pm25 is NA do we include them on our dataset
#Confused about '&&' and '&'
question1D<- chicago2 %>%
filter(pm25 > 35 & ozone > 18)
#sum(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
nrow((question1D$pm25 > 35 & question1D$ozone > 18))
#sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
#sum(TRUE == (pm25 > 35 & ozone > 18))
#count(isTRUE(pm25 > 35 & ozone > 18))
#nrow((chicago2$pm25 > 35))
#if pm25 is NA do we include them on our dataset
#Confused about '&&' and '&'
question1D<- chicago2 %>%
filter(pm25 > 35 & ozone > 18)
#sum(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
nrow((question1D$pm25 > 35 & question1D$ozone > 18))
#sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
#sum(TRUE == (pm25 > 35 & ozone > 18))
#count(isTRUE(pm25 > 35 & ozone > 18))
#nrow((chicago2$pm25 > 35))
#if pm25 is NA do we include them on our dataset
question1D<- chicago2 %>%
filter(pm25 > 35 & ozone > 18)
sum(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
#nrow((question1D$pm25 > 35 & question1D$ozone > 18))
#sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
#sum(TRUE == (pm25 > 35 & ozone > 18))
#count(isTRUE(pm25 > 35 & ozone > 18))
#nrow((chicago2$pm25 > 35))
#if pm25 is NA do we include them on our dataset
question1D<- chicago2 %>%
filter(pm25 > 35 & ozone > 18)
#sum(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
#nrow((question1D$pm25 > 35 & question1D$ozone > 18))
sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
#sum(TRUE == (pm25 > 35 & ozone > 18))
#count(isTRUE(pm25 > 35 & ozone > 18))
#nrow((chicago2$pm25 > 35))
#if pm25 is NA do we include them on our dataset
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
#sum(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
#nrow((question1D$pm25 > 35 & question1D$ozone > 18))
sum((chicago2$pm25 > 35 ) & (chicago2$ozone > 18))
#sum(TRUE == (pm25 > 35 & ozone > 18))
#count(isTRUE(pm25 > 35 & ozone > 18))
#nrow((chicago2$pm25 > 35))
#if pm25 is NA do we include them on our dataset
chicago2 %>%
filter(pm25 > 35 & ozone > 18)
#sum(isTRUE(chicago2$pm25 > 35 && chicago2$ozone > 18))
#nrow((question1D$pm25 > 35 & question1D$ozone > 18))
sum((chicago2$pm25 > 35 ) && (chicago2$ozone > 18))
#sum(TRUE == (pm25 > 35 & ozone > 18))
#count(isTRUE(pm25 > 35 & ozone > 18))
#nrow((chicago2$pm25 > 35))
#if pm25 is NA do we include them on our dataset
#install.packages("lubridate")
#library(lubridate)
chicago2 %>%
mutate(date = year(chicago2$date))
group_by(yearVar)%>%
#yearVar <- year(chicago2$date)
#yearMonthVar <- (year(chicago2$date),month(chicago2$date))
#install.packages("lubridate")
#library(lubridate)
yearVar<- chicago2 %>%
mutate(date = year(chicago2$date))
group_by(yearVar)%>%
#yearVar <- year(chicago2$date)
#yearMonthVar <- (year(chicago2$date),month(chicago2$date))
#install.packages("lubridate")
#library(lubridate)
yearVar<- chicago2 %>%
mutate(date = year(chicago2$date))%>%
group_by(yearVar)
#install.packages("lubridate")
#library(lubridate)
yearVar<- chicago2 %>%
mutate(date = year(chicago2$date))
group_by(yearVar)%>%
#yearVar <- year(chicago2$date)
#yearMonthVar <- (year(chicago2$date),month(chicago2$date))
#install.packages("lubridate")
#library(lubridate)
yearVar<- chicago2 %>%
mutate(date = year(chicago2$date)) %>%
group_by(date)
#yearVar <- year(chicago2$date)
#yearMonthVar <- (year(chicago2$date),month(chicago2$date))
chicago %>%
group_by(yearVar) %>%
ggplot(chicago2, aes(x=ozone, y= pm25, color=tempC))+
geom_point() + facet_wrap(~ yearVar)
chicago %>%
group_by(yearVar) %>%
ggplot(chicago2, aes(x=ozone, y= pm25, color=tempC))+
geom_point()
chicago %>%
#group_by(yearVar) %>%
ggplot(chicago2, aes(x=ozone, y= pm25, color=tempC))+
geom_point()
#chicago %>%
#group_by(yearVar) %>%
ggplot(chicago2, aes(x=ozone, y= pm25, color=tempC))+
geom_point()
#+ facet_wrap(~ yearVar)
#chicago %>%
#group_by(yearVar) %>%
ggplot(chicago2, aes(x=ozone, y= pm25, color=tempC))+
geom_point()
#+ facet_wrap(~ yearVar)
#chicago %>%
#group_by(yearVar) %>%
ggplot(chicago2, aes(x=ozone, y= pm25, color=temp))+
geom_point()
#+ facet_wrap(~ yearVar)
